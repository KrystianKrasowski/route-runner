<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="274px" preserveAspectRatio="none" style="width:448px;height:274px;" version="1.1" viewBox="0 0 448 274" width="448px" zoomAndPan="magnify"><defs><filter height="300%" id="fkwkpyxknh4ko" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="50" x2="50" y1="38.2969" y2="234.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="221.5" x2="221.5" y1="38.2969" y2="234.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="340" x2="340" y1="38.2969" y2="234.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="418" x2="418" y1="38.2969" y2="234.2266"/><rect fill="#F0E68C" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="15" y="22.9951">Main loop</text><rect fill="#F0E68C" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="8" y="233.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="15" y="253.2217">Main loop</text><rect fill="#FFA500" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="174.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="181.5" y="22.9951">Domain api</text><rect fill="#FFA500" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="174.5" y="233.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="181.5" y="253.2217">Domain api</text><rect fill="#FFA500" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="295" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="302" y="22.9951">Data store</text><rect fill="#FFA500" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="295" y="233.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="302" y="253.2217">Data store</text><rect fill="#FFA500" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="395" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="402" y="22.9951">Port</text><rect fill="#FFA500" filter="url(#fkwkpyxknh4ko)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="395" y="233.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="402" y="253.2217">Port</text><polygon fill="#A80036" points="210,95.6953,220,99.6953,210,103.6953,214,99.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="50" x2="216" y1="99.6953" y2="99.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="57" y="64.3638">handle commands or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="57" y="79.4966">handle coordinates or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="57" y="94.6294">handle immediate stop</text><polygon fill="#A80036" points="328,124.8281,338,128.8281,328,132.8281,332,128.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="222" x2="334" y1="128.8281" y2="128.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="229" y="123.7622">update motion</text><polygon fill="#A80036" points="328,153.9609,338,157.9609,328,161.9609,332,157.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="222" x2="334" y1="157.9609" y2="157.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="229" y="152.895">update mode</text><polygon fill="#A80036" points="406,183.0938,416,187.0938,406,191.0938,410,187.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="222" x2="412" y1="187.0938" y2="187.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="229" y="182.0278">apply motion</text><polygon fill="#A80036" points="406,212.2266,416,216.2266,406,220.2266,410,216.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="222" x2="412" y1="216.2266" y2="216.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="229" y="211.1606">apply mode</text><!--MD5=[0692fae9f01515c27c9340aca8d6415b]
@startuml impl-domain-handle-commands

participant "Main loop" as main #khaki
participant "Domain api" as api #orange
participant "Data store" as data #orange
participant "Port" as port #orange

main -> api : handle commands or\nhandle coordinates or\nhandle immediate stop
api -> data : update motion
api -> data : update mode
api -> port : apply motion
api -> port : apply mode

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.7+6-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: pl
Country: PL
--></g></svg>